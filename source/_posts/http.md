---
title: http协议
date: 2019-03-28 17:19:26
tags:
---

### 互联网上应用最广泛的通讯协议
概述：HTTP是一个客户端终端（用户）和服务器端（网站）请求和应答的标准（TCP）。
通过使用Web浏览器、网络爬虫或者其它的工具，客户端发起一个HTTP请求到服务器上指定端口（默认端口为80）。
我们称这个客户端为用户代理程序（user agent）。
应答的服务器上存储着一些资源，比如HTML文件和图像。我们称这个应答服务器为源服务器（origin server）。
在用户代理和源服务器中间可能存在多个“中间层”，比如代理服务器、网关或者隧道（tunnel）。

<!-- more -->

### 请求信息
- 请求行：由请求方法字段、URL字段和HTTP协议版本字段3个字段组成，它们用空格分隔。例如，GET /index.html HTTP/1.1。
- 请求头：由关键字/值对组成，每行一对，关键字和值用英文冒号“:”分隔。请求头部通知服务器有关于客户端请求的信息
- 空行： 最后一个请求头之后是一个空行，发送回车符和换行符，通知服务器以下不再有请求头。
- 其他消息体
- 请求数据：请求数据不在GET方法中使用，而是在POST方法中使用。POST方法适用于需要客户填写表单的场合。与请求数据相关的最常使用的请求头是Content-Type和Content-Length。

### 响应信息
- 状态行： HTTP-Version Status-Code Reason-Phrase CRLF
- 消息报头
- 响应正文

### 请求方法
- GET：GET方法要求服务器将URL定位的资源放在响应报文的数据部分，回送给客户端；不适合传送私密数据，不适合传送大量数据。
- POST：POST方法将请求参数封装在HTTP请求数据中，以名称/值的形式出现，可以传输大量数据，这样POST方式对传送的数据大小没有限制，而且也不会显示在URL中。POST方式请求行中不包含数据字符串，这些数据保存在”请求内容”部分，各数据之间也是使用”&”符号隔开。POST方式大多用于页面的表单中
- HEAD：HEAD就像GET，只不过服务端接受到HEAD请求后只返回响应头，而不会发送响应内容。当我们只需要查看某个页面的状态的时候，使用HEAD是非常高效的，因为在传输的过程中省去了页面内容。
- DELETE：...

### 版本：
  - 0.9
  - HTTP/1.0
  - HTTP/1.1
  - HTTP/2

### 状态代码
第一个数字代表当前响应的类型
- 1xx消息——请求已被服务器接收，继续处理
- 2xx成功——请求已成功被服务器接收、理解、并接受
- 3xx重定向——需要后续操作才能完成这一请求
- 4xx请求错误——请求含有词法错误或者无法被执行
- 5xx服务器错误——服务器在处理某个正确请求时发生错误

**部分参考**
- 200 OK：客户端请求成功。
- 400 Bad Request：客户端请求有语法错误，不能被服务器所理解。
- 401 Unauthorized：请求未经授权，这个状态代码必须和WWW-Authenticate报头域一起使用。
- 403 Forbidden：服务器收到请求，但是拒绝提供服务。
- 404 Not Found：请求资源不存在，举个例子：输入了错误的URL。
- 500 Internal Server Error：服务器发生不可预期的错误。
- 503 Server Unavailable：服务器当前不能处理客户端的请求，一段时间后可能恢复正常
举个例子：HTTP/1.1 200 OK（CRLF）。
